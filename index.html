<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

				
		<title>International Space Station Tracking</title>

		<script src="/socket.io/socket.io.js"></script>
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		
	</head>
	
	<body>

	    <div id="trackingdata">
		No data yet
	    </div>

	    <script>
		(function() {

		    console.log( $('#trackingdata').html().trim() );

		    const socket = io();

		    socket.on( 'tracking data', function(val) {
			let currentData = $('#trackingdata').html().trim();
			if( currentData == 'No data yet' ) {
			    currentData = val;
			}
			else {
			    currentData += '<br>' + val;
			}
			$('#trackingdata').html(currentData);
		    });

		})();
	    </script>
	</body>
	
</html>
